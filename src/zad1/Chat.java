package zad1;import javax.swing.*;import java.awt.*;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;public class Chat extends JFrame {    private Client client;    private GUI gui;    private  String nick;    private JTextField nicknametextfield;    private boolean islog;    public Chat (Client t){        this.client = t;        setSize(new Dimension(400,400));        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);        setLayout(new BorderLayout());        setIconImage(new ImageIcon("/Users/vlad/TPO/TPO3/Новая папка/TPO3_KV_S17134 — копия/src/zad1/icon.png").getImage());        createButtonPanel();        gui = new GUI(t);        add(gui,BorderLayout.CENTER);        setLocationRelativeTo(null);    }    private void createButtonPanel(){        JPanel panel = new JPanel(new CardLayout());        JPanel login = new JPanel(new BorderLayout());        JPanel down = new JPanel(new FlowLayout());        JButton button = new JButton("Ok");        button.addActionListener(new ActionListener() {            @Override            public void actionPerformed(ActionEvent e) {                nick = nicknametextfield.getText();                islog = true;                CardLayout layout = (CardLayout)panel.getLayout();                layout.show(panel,"Chat");            }        });        down.add(button);        JPanel up = new JPanel(new GridLayout(2,1));        up.add(new JLabel("Enter Nickname.."));        nicknametextfield = new JTextField();        String nd = nicknametextfield.getText();        up.add(nicknametextfield);        login.add(up,BorderLayout.CENTER);        login.add(down,BorderLayout.SOUTH);        panel.add("Login",login);        JPanel chat = new JPanel(new BorderLayout());        JPanel down2 = new JPanel(new FlowLayout());        JButton logoutbutton = new JButton("Log out"+" "+nd);        logoutbutton.addActionListener(new ActionListener() {            @Override            public void actionPerformed(ActionEvent e) {                System.exit(0);            }        });        down2.add(logoutbutton);        JPanel upp = new JPanel(new GridLayout(2,1));        JTextField inputtextfield = new JTextField();        upp.add(inputtextfield);        JButton sendbutton = new JButton("Send");        sendbutton.addActionListener(new ActionListener() {            @Override            public void actionPerformed(ActionEvent e) {                if(inputtextfield.getText().length() > 0)                    try {                        client.sendMessage(inputtextfield.getText());                    } catch (Exception ex) {                        ex.printStackTrace();                    }                inputtextfield.setText("");            }        });        upp.add(sendbutton);        chat.add(upp,BorderLayout.CENTER);        chat.add(down2,BorderLayout.SOUTH);        panel.add("Chat",chat);        add(panel,BorderLayout.SOUTH);    }    public void sendM(String t){        if(islog==true)        gui.sendM(t);    }    public String getNick(){        return this.nick;    }}